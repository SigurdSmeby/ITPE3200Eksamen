@model IEnumerable<Sub_Application_1.DTOs.CommentDto>

<div class="comments-section p-3 border-top">
	@if (Model != null && Model.Any())
	{
		@foreach (var comment in Model)
		{
			<div class="d-flex justify-content-between align-items-center mb-2">
				<div>
					<strong>@comment.AuthorUsername</strong>
					<span>@comment.Content</span>
					<small class="text-muted">@comment.DateCommented.ToString("MMM dd, yyyy")</small>
				</div>
				@if (User.Identity?.Name == comment.AuthorUsername)
				{
					<form method="post" action="/comments/delete/@comment.CommentId" class="d-inline">
						<button type="submit" class="btn btn-sm btn-danger">Delete</button>
					</form>
				}
			</div>
		}
	}
	else
	{
		<p class="text-muted">No comments yet. Be the first to comment!</p>
	}
</div>
