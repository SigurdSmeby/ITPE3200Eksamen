@using server.Models
<div class="card card-container">
    <!-- Card Header -->
    <div class="card-header">
        <a href="/profile/@Model.User.Username" class="profile-link">
            <img src="@Model.User.ProfilePictureUrl" alt="Profile Picture" class="profile-img" />
            <div>
                <h5 class="mb-0">@Model.User.Username</h5>
                <p class="date">@Model.DateUploaded.ToString("MMM dd, yyyy")</p>
            </div>
        </a>
    </div>

    <!-- Card Body -->
    <div class="card-body">
        @if (!string.IsNullOrEmpty(Model.ImageUrl))
        {
            <div class="image-container">
                <img src="@Model.ImageUrl" alt="Post Image" class="post-image" />
            </div>
        }
        else
        {
            <p class="text-content">@Model.TextContent</p>
        }
    </div>

    <!-- Card Footer -->
    <div class="card-footer">
        <div class="like-comment-container">
            <!-- Like Section -->
            <div class="heart-icon-container" onclick="toggleLike(@Model.PostId)">
                <i id="heart-icon-@Model.PostId" class="fa fa-heart heart-icon-black" data-liked="false"></i>
                <p id="like-count-@Model.PostId">@Model.Likes?.Count ?? 0</p>
            </div>

            <!-- Comment Section -->
            <div class="comment-icon-container" onclick="toggleComments(@Model.PostId)">
                <i class="fa fa-comment"></i>
                <p>@Model.Comments?.Count ?? 0</p>
            </div>
        </div>
    </div>

    <!-- Comments Section -->
    <div id="comments-section-@Model.PostId" class="comments-section" style="display: none;">
        @foreach (var comment in Model.Comments ?? new List<Comment>())
        {
            <div class="comment">
                <strong>@comment.Author.Username</strong>: @comment.Content
            </div>
        }

        <div class="comment-form">
            <textarea id="comment-input-@Model.PostId" class="form-control" rows="2" placeholder="Write a comment..."></textarea>
            <button class="btn btn-sm btn-primary mt-2" onclick="submitComment(@Model.PostId)">Post</button>
        </div>
    </div>
</div>
